function doThis(e){if("13"==e.which||"click"==e.type){$("#input, #go, #description").animate({opacity:0},250).hide(),$(".info").css({marginBottom:"-175px"});for(var i=0;i<times.length;i++)"undefined"==typeof times[i+1]?difference.push(Math.abs(times[i]-times[i-1])):difference.push(Math.abs(times[i]-times[i+1]));var t=difference.reduce(function(e,i){return e+i},0);difference.forEach(function(e){return e=e/t*100,e=Math.round(e),rythmPercent.push(e),e}),liWidth=1/times.length*100,rythmPercent.forEach(function(e){$("ul").append("<li style='height: "+2.5*e+"%'></li>")}),$("li").css("max-width",liWidth-.5+"%"),$("ul").delay(300).animate({height:"320px",paddingTop:0,opacity:1},500),$(".result").html("<h3>Rythm</h3><p>"+rythmPercent.join(",  ")+"</p>")}}var difference=[],times=[0],rythmPercent=[],liWidth,getKeyTime=function(){times.splice(0,1),$("#input").keyup(function(){times.push((new Date).getTime())})};times.forEach(getKeyTime),$(document).on("click","#go",doThis).on("keypress",this,doThis);